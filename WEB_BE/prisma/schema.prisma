generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id              BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  name            String     @db.VarChar(10)
  email           String     @db.VarChar(64)
  password        String     @db.Char(60)
  army_type       String     @db.Char(10)
  army_rank       String     @db.Char(10)
  enlistment_date DateTime   @db.Date
  discharge_date  DateTime   @db.Date
  todolists       Todolist[]
}

model Todolist {
  id         BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  userId     BigInt   @db.UnsignedBigInt
  goal       String   @db.VarChar(50)
  duration   Int
  start_date DateTime @db.Date
  end_date   DateTime @db.Date
  is_done    Boolean  @default(false)
  is_share   Boolean  @default(false)
  user       User     @relation(fields: [userId], references: [id])
  share      Share?
  todos      Todo[]

  @@index([userId], map: "Todolist_userId_fkey")
}

model Todo {
  id         BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  todolistId BigInt   @db.UnsignedBigInt
  content    String   @db.VarChar(50)
  datetime   DateTime @db.Date
  is_done    Boolean  @default(false)
  todolist   Todolist @relation(fields: [todolistId], references: [id])

  @@index([todolistId], map: "Todo_todolistId_fkey")
}

model Share {
  id          BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  todolistId  BigInt   @unique @db.UnsignedBigInt
  title       String   @db.VarChar(50)
  description String   @db.VarChar(300)
  image       String   @db.Text
  hit         BigInt   @default(0) @db.UnsignedBigInt
  like        BigInt   @default(0) @db.UnsignedBigInt
  hash_tag    String   @db.VarChar(50)
  datetime    DateTime @db.Date
  todolists   Todolist @relation(fields: [todolistId], references: [id])
}
